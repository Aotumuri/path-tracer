# Path Tracer / Coordinate Timeline Viewer

ブラウザだけで Minecraft などの座標ログを可視化・分析できるツール群です。`docs/index.html` を開くと、時系列の動きを 2D キャンバスに描画し、複数トラックの比較、到達距離の判定、PNG/SVG のエクスポートなどが行えます。追加で `docs/escape-report/index.html` を使うと、指定した中心点と半径からトラックが外へ出たタイミングを一覧化できます。

## 主な特徴
- 複数の JSON ログを同時に読み込み、色分けしたトラックとして表示
- 時系列スライダーと再生機能で移動の流れを追跡
- クリック＆ドラッグ／ホイール操作によるパン・ズーム
- 任意半径の「脱出判定」や、カスタム中心点の指定に対応
- 画面上の描画を PNG/SVG としてエクスポート可能
- 付属レポート (`escape-report`) で脱出時間の集計表を生成

## 使い方
1. リポジトリをクローンまたはダウンロードします。
2. お好きなモダンブラウザで `docs/index.html` を開きます。
   - ローカルファイルを直接開いても動作しますが、必要に応じて `python -m http.server` などで簡単なローカルサーバーを立てても構いません。
3. 画面上部の「Load JSON files」または「Load JSON folder」から座標ログ（JSON）を選びます。
4. 読み込み後、右側のトラック一覧で表示／非表示やフォーカスを切り替えながら分析してください。
5. PNG/SVG の保存は「Export PNG」「Export SVG」ボタンから行えます。

脱出時間の集計が必要な場合は `docs/escape-report/index.html` を開き、同様にログファイルを読み込んでください。

## データ形式
- JSON 配列、または `{"trackName": [...], ...}` のようなオブジェクト配列に対応しています。
- 各エントリに `x`, `y`, `z` (大文字も可) が含まれていれば読み込めます。`coordinates`, `pos`, `location` などのラッパーオブジェクトにネストされている場合も自動的に抽出されます。
- 時間情報は `timestamp`, `time`, `tick`, `step` などのキーを参照します。数値であればタイムラインのソートに利用され、それ以外の文字列でも表示用ラベルとして扱われます。

```json
[
  {"step": 0, "pos": {"x": 20.0, "y": 68.0, "z": 150.0}},
  {"step": 80, "pos": {"x": 20.5, "y": 68.0, "z": 149.2}}
]
```

## サンプルデータ
`json/` フォルダに歩行・滑空・トロッコなどのサンプルログを同梱しています。操作感を試す際に読み込んでください。

## ライセンス
このプロジェクトは [MIT License](LICENSE) の下で提供されています。
